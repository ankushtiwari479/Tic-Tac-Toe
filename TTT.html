<!DOCTYPE html>
<html>

<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="./css/bootstrap-theme.min.css">
    <script type="text/javascript" src="./js/jquery.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="./js/bootstrap.min.js"></script>
    <script>
    var arr=[];
    function checkWin(par) {
    	this.arr=[];
        var imgID = 'img' + par;
        // console.log(this.value);
        if (this.value == 0) {
            document.getElementById(imgID).src = './active0.png';
            document.getElementById(imgID).value =  "o";
            // console.log(document.getElementById(imgID).src == './active0.png');
            arr.push('0');
            this.value = 1;
        } else {
            document.getElementById(imgID).src = './activeX.png';
            document.getElementById(imgID).value = "x";
            arr.push('x');
            console.log(document.getElementById(imgID).src);
            this.value = 0;

        }

        var winnerConditions = [[11,12,13],[21,22,23],[31,32,33],[11,21,31],[12,22,32],[13,23,33],[11,22,33],[13,22,31]];

        var getValue =ele=> document.getElementById(ele).value;
        var get =(val)=>getValue('img'+val);

        var printWinner = (val)=>{

        	alert((val === 'o' )?'winner is 0':'winner is X');
        	var conf = confirm('Do you want to Play Again')
        	if(conf){
        		window.location.reload();
        	}else{
        		alert("Start new game");
	    		window.location.reload();
        	}
        };

        winnerConditions.forEach(cond=>{
        	var val = get(cond[0]);
        	if(val && (val === get(cond[1])) && (val === get(cond[2])) ){
        		setTimeout(function(){
        			printWinner(val);
        		},0)
        		
        	}
        });

        // document.getElementById().innerHTML
/*        (function winner() {
	        console.log('button ' + par + ' is active');
            if (document.getElementById('img11').value == document.getElementById('img12').value == document.getElementById('img13').value) {
                if ((document.getElementById('img11').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img21').value == document.getElementById('img22').value == document.getElementById('img23').value) {
                if ((document.getElementById('img21').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img31').value == document.getElementById('img32').value == document.getElementById('img33').value) {
                if ((document.getElementById('img31').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img11').value == document.getElementById('img21').value == document.getElementById('img31').value) {
                if ((document.getElementById('img11').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img12').value == document.getElementById('img12').value == document.getElementById('img32').value) {
                if ((document.getElementById('img12').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img13').value == document.getElementById('img23').value == document.getElementById('img33').value) {
                if ((document.getElementById('img13').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img13').value == document.getElementById('img22').value == document.getElementById('img31').value) {
                if ((document.getElementById('img13').value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
            if (document.getElementById('img11').value == document.getElementById('img22').value == document.getElementById('img33').value) {
                if ((document.getElementById(11).value)=='o') alert('winner is 0');
                else alert('winner is X');
            }
           

        }());*/
        document.getElementById(par).disabled = true;
    	console.log(arr);
    }
    </script>
    <title></title>
</head>

<body background='./bg.jpg'>
	<div>
		<h2 style="margin: 5% 35%"> First person is always X </h2>
	</div>
    <div id="main" style="margin:5% 34%">
        <div id="buttons" style="width: 500px;height: 500px">
            <button onclick="checkWin(11)" id="11" class="btn"><img src="notActive.png" id="img11"></button>
            <button onclick="checkWin(12)" id="12" class="btn"><img src="notActive.png" id="img12"></button>
            <button onclick="checkWin(13)" id="13" class="btn"><img src="notActive.png" id="img13"></button>
            <button onclick="checkWin(21)" id="21" class="btn"><img src="notActive.png" id="img21"></button>
            <button onclick="checkWin(22)" id="22" class="btn"><img src="notActive.png" id="img22"></button>
            <button onclick="checkWin(23)" id="23" class="btn"><img src="notActive.png" id="img23"></button>
            <button onclick="checkWin(31)" id="31" class="btn"><img src="notActive.png" id="img31"></button>
            <button onclick="checkWin(32)" id="32" class="btn"><img src="notActive.png" id="img32"></button>
            <button onclick="checkWin(33)" id="33" class="btn"><img src="notActive.png" id="img33"></button>
        </div>
    </div>
</body>

</html>